<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>Source code</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="source: package: renderer.pipeline, class: Pipeline">
<meta name="generator" content="javadoc/SourceToHTMLConverter">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body class="source-page">
<main role="main">
<div class="source-container">
<pre><span class="source-line-no">001</span><span id="line-1">/*</span>
<span class="source-line-no">002</span><span id="line-2"> * Renderer 18. The MIT License.</span>
<span class="source-line-no">003</span><span id="line-3"> * Copyright (c) 2022 rlkraft@pnw.edu</span>
<span class="source-line-no">004</span><span id="line-4"> * See LICENSE for details.</span>
<span class="source-line-no">005</span><span id="line-5">*/</span>
<span class="source-line-no">006</span><span id="line-6"></span>
<span class="source-line-no">007</span><span id="line-7">package renderer.pipeline;</span>
<span class="source-line-no">008</span><span id="line-8"></span>
<span class="source-line-no">009</span><span id="line-9">import renderer.scene.*;</span>
<span class="source-line-no">010</span><span id="line-10">import renderer.scene.util.CheckModel;</span>
<span class="source-line-no">011</span><span id="line-11">import renderer.framebuffer.*;</span>
<span class="source-line-no">012</span><span id="line-12">import static renderer.pipeline.PipelineLogger.*;</span>
<span class="source-line-no">013</span><span id="line-13"></span>
<span class="source-line-no">014</span><span id="line-14">import java.awt.Color;</span>
<span class="source-line-no">015</span><span id="line-15"></span>
<span class="source-line-no">016</span><span id="line-16">/**</span>
<span class="source-line-no">017</span><span id="line-17">   This renderer takes as its input a {@link Scene} data structure</span>
<span class="source-line-no">018</span><span id="line-18">   and a {@link FrameBuffer.Viewport} within a {@link FrameBuffer}</span>
<span class="source-line-no">019</span><span id="line-19">   data structure. This renderer mutates the {@link FrameBuffer.Viewport}</span>
<span class="source-line-no">020</span><span id="line-20">   so that it is filled in with the rendered image of the geometric</span>
<span class="source-line-no">021</span><span id="line-21">   scene represented by the {@link Scene} object.</span>
<span class="source-line-no">022</span><span id="line-22">&lt;p&gt;</span>
<span class="source-line-no">023</span><span id="line-23">    This implements our fourteenth rendering pipeline. This renderer</span>
<span class="source-line-no">024</span><span id="line-24">    adds higher order triangle {@link Primitive}s to the {@link Model}s.</span>
<span class="source-line-no">025</span><span id="line-25">    The new {@link Primitive}s change the {@link PrimitiveAssembly}</span>
<span class="source-line-no">026</span><span id="line-26">    stage and force the back face culling to be done in two stages</span>
<span class="source-line-no">027</span><span id="line-27">    (one before and one after {@link PrimitiveAssembly}). There are</span>
<span class="source-line-no">028</span><span id="line-28">    now ten pipeline stages.</span>
<span class="source-line-no">029</span><span id="line-29">*/</span>
<span class="source-line-no">030</span><span id="line-30">public final class Pipeline</span>
<span class="source-line-no">031</span><span id="line-31">{</span>
<span class="source-line-no">032</span><span id="line-32">   // Mostly for compatibility with renderers 1 through 3.</span>
<span class="source-line-no">033</span><span id="line-33">   public static Color DEFAULT_COLOR = Color.white;</span>
<span class="source-line-no">034</span><span id="line-34"></span>
<span class="source-line-no">035</span><span id="line-35">   /**</span>
<span class="source-line-no">036</span><span id="line-36">      Mutate the {@link FrameBuffer}'s default {@link FrameBuffer.Viewport}</span>
<span class="source-line-no">037</span><span id="line-37">      so that it holds the rendered image of the {@link Scene} object.</span>
<span class="source-line-no">038</span><span id="line-38"></span>
<span class="source-line-no">039</span><span id="line-39">      @param scene  {@link Scene} object to render</span>
<span class="source-line-no">040</span><span id="line-40">      @param fb     {@link FrameBuffer} to hold rendered image of the {@link Scene}</span>
<span class="source-line-no">041</span><span id="line-41">   */</span>
<span class="source-line-no">042</span><span id="line-42">   public static void render(final Scene scene, final FrameBuffer fb)</span>
<span class="source-line-no">043</span><span id="line-43">   {</span>
<span class="source-line-no">044</span><span id="line-44">      render(scene, fb.vp); // render into the default viewport</span>
<span class="source-line-no">045</span><span id="line-45">   }</span>
<span class="source-line-no">046</span><span id="line-46"></span>
<span class="source-line-no">047</span><span id="line-47"></span>
<span class="source-line-no">048</span><span id="line-48">   /**</span>
<span class="source-line-no">049</span><span id="line-49">      Mutate the {@link FrameBuffer}'s given {@link FrameBuffer.Viewport}</span>
<span class="source-line-no">050</span><span id="line-50">      so that it holds the rendered image of the {@link Scene} object.</span>
<span class="source-line-no">051</span><span id="line-51"></span>
<span class="source-line-no">052</span><span id="line-52">      @param scene  {@link Scene} object to render</span>
<span class="source-line-no">053</span><span id="line-53">      @param vp     {@link FrameBuffer.Viewport} to hold rendered image of the {@link Scene}</span>
<span class="source-line-no">054</span><span id="line-54">   */</span>
<span class="source-line-no">055</span><span id="line-55">   public static void render(final Scene scene, final FrameBuffer.Viewport vp)</span>
<span class="source-line-no">056</span><span id="line-56">   {</span>
<span class="source-line-no">057</span><span id="line-57">      PipelineLogger.debugScene = scene.debug;</span>
<span class="source-line-no">058</span><span id="line-58"></span>
<span class="source-line-no">059</span><span id="line-59">      logMessage("\n== Begin Rendering of Scene (Pipeline 1): " + scene.name + " ==");</span>
<span class="source-line-no">060</span><span id="line-60"></span>
<span class="source-line-no">061</span><span id="line-61">      logMessage("-- Current Camera:\n" + scene.camera);</span>
<span class="source-line-no">062</span><span id="line-62"></span>
<span class="source-line-no">063</span><span id="line-63">      // For every Position in the Scene, render the Position's Model.</span>
<span class="source-line-no">064</span><span id="line-64">      for (final Position position : scene.positionList)</span>
<span class="source-line-no">065</span><span id="line-65">      {</span>
<span class="source-line-no">066</span><span id="line-66">         PipelineLogger.debugPosition = position.debug;</span>
<span class="source-line-no">067</span><span id="line-67"></span>
<span class="source-line-no">068</span><span id="line-68">         if ( position.visible )</span>
<span class="source-line-no">069</span><span id="line-69">         {</span>
<span class="source-line-no">070</span><span id="line-70">            // Begin a pre-order, depth-first-traversal from this Position.</span>
<span class="source-line-no">071</span><span id="line-71">            render_position(scene, position, Matrix.identity(), vp);</span>
<span class="source-line-no">072</span><span id="line-72">         }</span>
<span class="source-line-no">073</span><span id="line-73">         else</span>
<span class="source-line-no">074</span><span id="line-74">         {</span>
<span class="source-line-no">075</span><span id="line-75">            logMessage("==== Hidden position: " + position.name);</span>
<span class="source-line-no">076</span><span id="line-76">         }</span>
<span class="source-line-no">077</span><span id="line-77">      }</span>
<span class="source-line-no">078</span><span id="line-78">      logMessage("== End Rendering of Scene (Pipeline 1) ==");</span>
<span class="source-line-no">079</span><span id="line-79">   }</span>
<span class="source-line-no">080</span><span id="line-80"></span>
<span class="source-line-no">081</span><span id="line-81"></span>
<span class="source-line-no">082</span><span id="line-82">   /**</span>
<span class="source-line-no">083</span><span id="line-83">      Recursively renderer a {@link Position}.</span>
<span class="source-line-no">084</span><span id="line-84">      &lt;p&gt;</span>
<span class="source-line-no">085</span><span id="line-85">      This method does a pre-order, depth-first-traversal of the tree of</span>
<span class="source-line-no">086</span><span id="line-86">      {@link Position}'s rooted at the parameter {@code position}.</span>
<span class="source-line-no">087</span><span id="line-87">      &lt;p&gt;</span>
<span class="source-line-no">088</span><span id="line-88">      The pre-order "visit node" operation in this traversal first updates the</span>
<span class="source-line-no">089</span><span id="line-89">      "current transformation matrix", ({@code ctm}), using the {@link Matrix}</span>
<span class="source-line-no">090</span><span id="line-90">      in {@code position} and then renders the {@link Model} in {@code position}</span>
<span class="source-line-no">091</span><span id="line-91">      using the updated {@code ctm} in the {@link Model2View} stage.</span>
<span class="source-line-no">092</span><span id="line-92"></span>
<span class="source-line-no">093</span><span id="line-93">      @param scene     the {@link Scene} that we are rendering</span>
<span class="source-line-no">094</span><span id="line-94">      @param position  the current {@link Position} object to recursively render</span>
<span class="source-line-no">095</span><span id="line-95">      @param ctm       current model-to-view transformation {@link Matrix}</span>
<span class="source-line-no">096</span><span id="line-96">      @param vp       {@link FrameBuffer.Viewport} to hold rendered image of the {@link Scene}</span>
<span class="source-line-no">097</span><span id="line-97">   */</span>
<span class="source-line-no">098</span><span id="line-98">   private static void render_position(final Scene scene,</span>
<span class="source-line-no">099</span><span id="line-99">                                       final Position position,</span>
<span class="source-line-no">100</span><span id="line-100">                                       final Matrix ctm,</span>
<span class="source-line-no">101</span><span id="line-101">                                       final FrameBuffer.Viewport vp)</span>
<span class="source-line-no">102</span><span id="line-102">   {</span>
<span class="source-line-no">103</span><span id="line-103">      logMessage("==== Render position: " + position.name + " ====");</span>
<span class="source-line-no">104</span><span id="line-104"></span>
<span class="source-line-no">105</span><span id="line-105">      logMessage("---- Transformation matrix:\n" + position.getMatrix());</span>
<span class="source-line-no">106</span><span id="line-106"></span>
<span class="source-line-no">107</span><span id="line-107">      // Update the current model-to-view transformation matrix.</span>
<span class="source-line-no">108</span><span id="line-108">      final Matrix ctm2 = ctm.times( position.getMatrix() );</span>
<span class="source-line-no">109</span><span id="line-109"></span>
<span class="source-line-no">110</span><span id="line-110">      // Recursively render this Position's Model, if the model is visible.</span>
<span class="source-line-no">111</span><span id="line-111">      if ( position.getModel().visible )</span>
<span class="source-line-no">112</span><span id="line-112">      {</span>
<span class="source-line-no">113</span><span id="line-113">         render_model(scene, position.getModel(), ctm2, vp);</span>
<span class="source-line-no">114</span><span id="line-114">      }</span>
<span class="source-line-no">115</span><span id="line-115">      else</span>
<span class="source-line-no">116</span><span id="line-116">      {</span>
<span class="source-line-no">117</span><span id="line-117">         logMessage("====== Hidden model: " + position.getModel().name + " ======");</span>
<span class="source-line-no">118</span><span id="line-118">      }</span>
<span class="source-line-no">119</span><span id="line-119"></span>
<span class="source-line-no">120</span><span id="line-120">      // Recursively render every nested Position of this Position.</span>
<span class="source-line-no">121</span><span id="line-121">      for (final Position p : position.nestedPositions)</span>
<span class="source-line-no">122</span><span id="line-122">      {</span>
<span class="source-line-no">123</span><span id="line-123">         if ( p.visible )</span>
<span class="source-line-no">124</span><span id="line-124">         {</span>
<span class="source-line-no">125</span><span id="line-125">            // Do a pre-order, depth-first-traversal from this nested Position.</span>
<span class="source-line-no">126</span><span id="line-126">            render_position(scene, p, ctm2, vp); // recursion</span>
<span class="source-line-no">127</span><span id="line-127">         }</span>
<span class="source-line-no">128</span><span id="line-128">         else</span>
<span class="source-line-no">129</span><span id="line-129">         {</span>
<span class="source-line-no">130</span><span id="line-130">            logMessage("====== Hidden position " + position.name + " ====");</span>
<span class="source-line-no">131</span><span id="line-131">         }</span>
<span class="source-line-no">132</span><span id="line-132">      }</span>
<span class="source-line-no">133</span><span id="line-133"></span>
<span class="source-line-no">134</span><span id="line-134">      logMessage("==== End position: " + position.name + " ====");</span>
<span class="source-line-no">135</span><span id="line-135">   }</span>
<span class="source-line-no">136</span><span id="line-136"></span>
<span class="source-line-no">137</span><span id="line-137"></span>
<span class="source-line-no">138</span><span id="line-138">   /**</span>
<span class="source-line-no">139</span><span id="line-139">      Recursively renderer a {@link Model}.</span>
<span class="source-line-no">140</span><span id="line-140">      &lt;p&gt;</span>
<span class="source-line-no">141</span><span id="line-141">      This method does a pre-order, depth-first-traversal of the tree of</span>
<span class="source-line-no">142</span><span id="line-142">      {@link Model}'s rooted at the parameter {@code model}.</span>
<span class="source-line-no">143</span><span id="line-143">      &lt;p&gt;</span>
<span class="source-line-no">144</span><span id="line-144">      The pre-order "visit node" operation in this traversal first updates the</span>
<span class="source-line-no">145</span><span id="line-145">      "current transformation matrix", ({@code ctm}), using the {@link Matrix}</span>
<span class="source-line-no">146</span><span id="line-146">      in {@code model} and then renders the geometry in {@code model}</span>
<span class="source-line-no">147</span><span id="line-147">      using the updated {@code ctm} in the {@link Model2View} stage.</span>
<span class="source-line-no">148</span><span id="line-148"></span>
<span class="source-line-no">149</span><span id="line-149">      @param scene  the {@link Scene} that we are rendering</span>
<span class="source-line-no">150</span><span id="line-150">      @param model  the current {@link Model} object to recursively render</span>
<span class="source-line-no">151</span><span id="line-151">      @param ctm    current model-to-view transformation {@link Matrix}</span>
<span class="source-line-no">152</span><span id="line-152">      @param vp     {@link FrameBuffer.Viewport} to hold rendered image of the {@link Scene}</span>
<span class="source-line-no">153</span><span id="line-153">   */</span>
<span class="source-line-no">154</span><span id="line-154">   private static void render_model(final Scene scene,</span>
<span class="source-line-no">155</span><span id="line-155">                                    final Model model,</span>
<span class="source-line-no">156</span><span id="line-156">                                    final Matrix ctm,</span>
<span class="source-line-no">157</span><span id="line-157">                                    final FrameBuffer.Viewport vp)</span>
<span class="source-line-no">158</span><span id="line-158">   {</span>
<span class="source-line-no">159</span><span id="line-159">      logMessage("====== Render Model: " + model.name + " ======");</span>
<span class="source-line-no">160</span><span id="line-160"></span>
<span class="source-line-no">161</span><span id="line-161">      CheckModel.check(model);</span>
<span class="source-line-no">162</span><span id="line-162"></span>
<span class="source-line-no">163</span><span id="line-163">      // Mostly for compatibility with renderers 1 through 3.</span>
<span class="source-line-no">164</span><span id="line-164">      if (  model.colorList.isEmpty()</span>
<span class="source-line-no">165</span><span id="line-165">        &amp;&amp; !model.vertexList.isEmpty())</span>
<span class="source-line-no">166</span><span id="line-166">      {</span>
<span class="source-line-no">167</span><span id="line-167">         for (int i = 0; i &lt; model.vertexList.size(); ++i)</span>
<span class="source-line-no">168</span><span id="line-168">         {</span>
<span class="source-line-no">169</span><span id="line-169">            model.addColor( DEFAULT_COLOR );</span>
<span class="source-line-no">170</span><span id="line-170">         }</span>
<span class="source-line-no">171</span><span id="line-171">         System.err.println("***WARNING: Added default color to model: "</span>
<span class="source-line-no">172</span><span id="line-172">                           + model.name + ".");</span>
<span class="source-line-no">173</span><span id="line-173">      }</span>
<span class="source-line-no">174</span><span id="line-174"></span>
<span class="source-line-no">175</span><span id="line-175">      logVertexList("0. Model       ", model);</span>
<span class="source-line-no">176</span><span id="line-176"></span>
<span class="source-line-no">177</span><span id="line-177">      // Update the current model-to-world transformation matrix.</span>
<span class="source-line-no">178</span><span id="line-178">      final Matrix ctm2 = ctm.times( model.getMatrix() );</span>
<span class="source-line-no">179</span><span id="line-179"></span>
<span class="source-line-no">180</span><span id="line-180">      // 1. Apply the current model-to-world coordinate transformation.</span>
<span class="source-line-no">181</span><span id="line-181">      final Model model1 = Model2World.model2world(model, ctm2);</span>
<span class="source-line-no">182</span><span id="line-182"></span>
<span class="source-line-no">183</span><span id="line-183">      logVertexList("1. World       ", model1);</span>
<span class="source-line-no">184</span><span id="line-184"></span>
<span class="source-line-no">185</span><span id="line-185">      // 2. Apply the Camera's world-to-view coordinate transformation.</span>
<span class="source-line-no">186</span><span id="line-186">      final Model model2 = World2View.world2view(model1, scene.camera);</span>
<span class="source-line-no">187</span><span id="line-187"></span>
<span class="source-line-no">188</span><span id="line-188">      logVertexList("2. View        ", model2);</span>
<span class="source-line-no">189</span><span id="line-189"></span>
<span class="source-line-no">190</span><span id="line-190">      // 3. Apply the Camera's normalizing view-to-camera coordinate transformation.</span>
<span class="source-line-no">191</span><span id="line-191">      final Model model3 = View2Camera.view2camera(model2, scene.camera);</span>
<span class="source-line-no">192</span><span id="line-192"></span>
<span class="source-line-no">193</span><span id="line-193">      logVertexList("3. Camera      ", model3);</span>
<span class="source-line-no">194</span><span id="line-194"></span>
<span class="source-line-no">195</span><span id="line-195">      // 4. Do the first back face culling operation (of Face primitives).</span>
<span class="source-line-no">196</span><span id="line-196">      logMessage("4. Culling_1 (Faces)" + ": doBackFaceCulling = "</span>
<span class="source-line-no">197</span><span id="line-197">                                        + model.doBackFaceCulling</span>
<span class="source-line-no">198</span><span id="line-198">                                        + ", frontFacingIsCCW = "</span>
<span class="source-line-no">199</span><span id="line-199">                                        + model.frontFacingIsCCW</span>
<span class="source-line-no">200</span><span id="line-200">                                        + ", facesHaveTwoSides = "</span>
<span class="source-line-no">201</span><span id="line-201">                                        + model.facesHaveTwoSides);</span>
<span class="source-line-no">202</span><span id="line-202">      final Model model4 = BackFaceCulling.cull(model3, scene.camera);</span>
<span class="source-line-no">203</span><span id="line-203"></span>
<span class="source-line-no">204</span><span id="line-204">      logPrimitiveList("4. Culled_1", model4);</span>
<span class="source-line-no">205</span><span id="line-205"></span>
<span class="source-line-no">206</span><span id="line-206">      // 5. Do the primitive assembly operation.</span>
<span class="source-line-no">207</span><span id="line-207">      final Model model5 = PrimitiveAssembly.assemble(model4);</span>
<span class="source-line-no">208</span><span id="line-208"></span>
<span class="source-line-no">209</span><span id="line-209">      logPrimitiveList("5. Primitive Assembly ", model4);</span>
<span class="source-line-no">210</span><span id="line-210">      logPrimitiveList("5. Primitive Assembled", model5);</span>
<span class="source-line-no">211</span><span id="line-211"></span>
<span class="source-line-no">212</span><span id="line-212">      // 6. Do the second back face culling operation (of Triangle primitives).</span>
<span class="source-line-no">213</span><span id="line-213">      logMessage("6. Culling_2 (Triangles)" + ": doBackFaceCulling = "</span>
<span class="source-line-no">214</span><span id="line-214">                                            + model.doBackFaceCulling</span>
<span class="source-line-no">215</span><span id="line-215">                                            + ", frontFacingIsCCW = "</span>
<span class="source-line-no">216</span><span id="line-216">                                            + model.frontFacingIsCCW</span>
<span class="source-line-no">217</span><span id="line-217">                                            + ", facesHaveTwoSides = "</span>
<span class="source-line-no">218</span><span id="line-218">                                            + model.facesHaveTwoSides);</span>
<span class="source-line-no">219</span><span id="line-219">      final Model model6 = BackFaceCulling2.cull(model5, scene.camera);</span>
<span class="source-line-no">220</span><span id="line-220"></span>
<span class="source-line-no">221</span><span id="line-221">      logPrimitiveList("6. Culled_2", model6);</span>
<span class="source-line-no">222</span><span id="line-222"></span>
<span class="source-line-no">223</span><span id="line-223">      // 7. Clip primitives to the camera's near plane.</span>
<span class="source-line-no">224</span><span id="line-224">      final Model model7 = NearClip.clip(model6, scene.camera);</span>
<span class="source-line-no">225</span><span id="line-225"></span>
<span class="source-line-no">226</span><span id="line-226">      logVertexList("7. Near_Clipped", model7);</span>
<span class="source-line-no">227</span><span id="line-227">      logColorList("7. Near_Clipped", model7);</span>
<span class="source-line-no">228</span><span id="line-228">      logPrimitiveList("7. Near_Clipped", model7);</span>
<span class="source-line-no">229</span><span id="line-229"></span>
<span class="source-line-no">230</span><span id="line-230">      // 8. Apply the Camera's projection transformation.</span>
<span class="source-line-no">231</span><span id="line-231">      final Model model8 = Projection.project(model7, scene.camera);</span>
<span class="source-line-no">232</span><span id="line-232"></span>
<span class="source-line-no">233</span><span id="line-233">      logVertexList("8. Projected   ", model8);</span>
<span class="source-line-no">234</span><span id="line-234"></span>
<span class="source-line-no">235</span><span id="line-235">      // 9. Clip primitives to the camera's view rectangle.</span>
<span class="source-line-no">236</span><span id="line-236">      final Model model9 = Clip.clip(model8);</span>
<span class="source-line-no">237</span><span id="line-237"></span>
<span class="source-line-no">238</span><span id="line-238">      logVertexList("9. Clipped     ", model9);</span>
<span class="source-line-no">239</span><span id="line-239">      logColorList("9. Clipped     ", model9);</span>
<span class="source-line-no">240</span><span id="line-240">      logPrimitiveList("9. Clipped     ", model9);</span>
<span class="source-line-no">241</span><span id="line-241"></span>
<span class="source-line-no">242</span><span id="line-242">      // 10. Rasterize every visible primitive into pixels.</span>
<span class="source-line-no">243</span><span id="line-243">      Rasterize.rasterize(model9, vp);</span>
<span class="source-line-no">244</span><span id="line-244"></span>
<span class="source-line-no">245</span><span id="line-245">      // Recursively transform every nested Model of this Model.</span>
<span class="source-line-no">246</span><span id="line-246"></span>
<span class="source-line-no">247</span><span id="line-247">      // Do a pre-order, depth-first-traversal from this Model.</span>
<span class="source-line-no">248</span><span id="line-248">      for (final Model m : model.nestedModels)</span>
<span class="source-line-no">249</span><span id="line-249">      {</span>
<span class="source-line-no">250</span><span id="line-250">         if ( m.visible )</span>
<span class="source-line-no">251</span><span id="line-251">         {</span>
<span class="source-line-no">252</span><span id="line-252">            render_model(scene, m, ctm2, vp); // recursion</span>
<span class="source-line-no">253</span><span id="line-253">         }</span>
<span class="source-line-no">254</span><span id="line-254">         else</span>
<span class="source-line-no">255</span><span id="line-255">         {</span>
<span class="source-line-no">256</span><span id="line-256">            logMessage("====== Hidden model: " + m.name + " ======");</span>
<span class="source-line-no">257</span><span id="line-257">         }</span>
<span class="source-line-no">258</span><span id="line-258">      }</span>
<span class="source-line-no">259</span><span id="line-259"></span>
<span class="source-line-no">260</span><span id="line-260">      logMessage("====== End Model: " + model.name + " ======");</span>
<span class="source-line-no">261</span><span id="line-261">   }</span>
<span class="source-line-no">262</span><span id="line-262"></span>
<span class="source-line-no">263</span><span id="line-263"></span>
<span class="source-line-no">264</span><span id="line-264"></span>
<span class="source-line-no">265</span><span id="line-265">   // Private default constructor to enforce noninstantiable class.</span>
<span class="source-line-no">266</span><span id="line-266">   // See Item 4 in "Effective Java", 3rd Ed, Joshua Bloch.</span>
<span class="source-line-no">267</span><span id="line-267">   private Pipeline() {</span>
<span class="source-line-no">268</span><span id="line-268">      throw new AssertionError();</span>
<span class="source-line-no">269</span><span id="line-269">   }</span>
<span class="source-line-no">270</span><span id="line-270">}</span>




























































</pre>
</div>
</main>
</body>
</html>
